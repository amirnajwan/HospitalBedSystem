<div class="bg-light border-right" id="sidebar-wrapper">
    <div class="sidebar-heading pl-4" id="sidebar-heading" style="font-weight: bold; color: #007bff;">Dashboard</div>
    <div class="list-group list-group-flush">
        <a id="indexLink" href="/index" class="list-group-item list-group-item-action bg-light">Dashboard</a>
        <a id="profileLink" href="/profile" class="list-group-item list-group-item-action bg-light">Profile</a>
        <a id="usersLink" href="/users" class="list-group-item list-group-item-action bg-light">Users</a>
        <a id="pageLink" href="/registerPatient" class="list-group-item list-group-item-action bg-light">Register Patient</a>
        <a id="pageLink" href="/patients" class="list-group-item list-group-item-action bg-light">Patients List</a>
        <a id="pageLink" href="/page1" class="list-group-item list-group-item-action bg-light">Page 1</a>

        <!-- Patient Satisfaction Expanded Menu -->
        <a class="list-group-item list-group-item-action py-2 ripple" aria-current="true"
           data-mdb-collapse-init href="#menupatientsatisfaction" aria-expanded="true"
           aria-controls="collapseExample1">
            <i class="fas fa-tachometer-alt fa-fw me-3"></i><span>Patient Satisfaction Management</span>
        </a>
        <!-- Collapsed content -->
        <ul id="PatientSatisfactionManagement" class="collapse show list-group list-group-flush">
            <li class="list-group-item py-1">
                <a href="/categories?userId=1" class="text-reset">Category</a>
            </li>
            <li class="list-group-item py-1">
                <a href="/measurements?userId=1" class="text-reset">Measurement</a>
            </li>
            <li class="list-group-item py-1">
                <a href="" class="text-reset">Submit New Satisfaction</a>
            </li>
            <li class="list-group-item py-1">
                <a href="" class="text-reset">View Satisfaction Report</a>
            </li>
        </ul>
        <!-- end Patient Satisfaction Expanded Menu -->
    </div>
</div>
<script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
<!-- <script src="\js\config.js"></script>  -->
<script>
    $(document).ready(async function () {
        var urlParams = new URLSearchParams(window.location.search);
        var employeeId = urlParams.get('employeeId');
        const url = CONFIG.BASE_URL + "/api/v1/userByEmployeeId/" + employeeId;
        var userData;
        try {
            userData = await fetchData(url);
            console.log(userData);
        } catch (error) {
            console.error('There was a problem with the fetch operation:', error);
        }

        $('.list-group a').each(function () {
            var currentHref = $(this).attr('href');
            $(this).attr('href', currentHref + '?employeeId=' + employeeId);
        });
        if (userData.data.doctor == true) {
            $('#usersLink').hide();
        }
    });

    async function fetchData(url) {
        return $.ajax({
            url: url,
            type: 'GET'
        });
    }
</script>